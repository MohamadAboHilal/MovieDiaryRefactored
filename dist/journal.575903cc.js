document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("favorites-list");function t(){return JSON.parse(localStorage.getItem("favorites"))||[]}function d(e){return t().some(t=>t.id===e)}function l(e){return(JSON.parse(localStorage.getItem("movieNotes"))||{})[e]}t().forEach(o=>(function(o){let a=document.createElement("div");a.classList.add("bg-gray-800","rounded-lg","shadow-lg","overflow-hidden","relative","flex","flex-col","h-full","m-[20px]","mb-[20px]"),a.setAttribute("data-movie-id",o.id);let i=document.createElement("img");i.src=`https://image.tmdb.org/t/p/w500${o.poster_path}`,i.alt=o.title,i.classList.add("w-full","h-64","object-cover"),a.appendChild(i);let n=document.createElement("div");n.classList.add("p-4","flex","flex-col","flex-grow");let s=document.createElement("h3");s.textContent=o.title,s.classList.add("text-lg","font-semibold","mb-2","text-white"),n.appendChild(s);let r=document.createElement("p");r.textContent=`Rating: ${o.vote_average}`,r.classList.add("text-gray-400","mb-2"),n.appendChild(r);let c=document.createElement("button");c.classList.add("absolute","top-2","right-2","text-gray-400","hover:text-red-500","transition"),c.innerHTML='<i class="fas fa-heart"></i>',d(o.id)&&c.classList.add("text-red-500"),c.addEventListener("click",()=>{let e;e=t(),d(o.id)?(e=e.filter(e=>e.id!==o.id),c.classList.remove("text-red-500"),function(e){let t=document.querySelector(`[data-movie-id="${e}"]`);t&&t.remove()}(o.id)):(e.push(o),c.classList.add("text-red-500")),localStorage.setItem("favorites",JSON.stringify(e))}),a.appendChild(c);let m=document.createElement("button");m.classList.add("mt-auto","bg-teal-500","text-white","px-4","py-2","rounded-md","transition","self-start");let u=l(o.id);m.textContent=u?"View Note":"Create Note",m.addEventListener("click",()=>{(function(e,t){let d=l(e),o=document.createElement("div");o.classList.add("fixed","top-0","left-0","w-full","h-full","bg-gray-800","bg-opacity-50","flex","justify-center","items-center"),o.innerHTML=`
          <div class="bg-gray-900 p-6 rounded-lg w-96">
              <h3 class="text-white text-xl font-semibold mb-4">Movie Note</h3>
              <textarea id="note-text" class="w-full h-32 p-2 bg-gray-700 text-white rounded-lg" placeholder="Write a note...">${d||""}</textarea>
              <button id="save-note" class="mt-4 bg-teal-500 text-white px-4 py-2 rounded-md">Save Note</button>
              <button id="close-popup" class="mt-2 bg-red-500 text-white px-4 py-2 rounded-md">Close</button>
          </div>
      `,document.body.appendChild(o),document.getElementById("save-note").addEventListener("click",()=>{let d;let l=document.getElementById("note-text").value;d=JSON.parse(localStorage.getItem("movieNotes"))||{},""===l.trim()?delete d[e]:d[e]=l.trim(),localStorage.setItem("movieNotes",JSON.stringify(d)),t.textContent=l.trim()?"View Note":"Create Note",document.body.removeChild(o)}),document.getElementById("close-popup").addEventListener("click",()=>{document.body.removeChild(o)})})(o.id,m)}),n.appendChild(m),a.appendChild(n),e.appendChild(a)})(o))});
//# sourceMappingURL=journal.575903cc.js.map

{"mappings":"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","sources":["src/journal.js"],"sourcesContent":["//added DOM\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  const favoritesList = document.getElementById(\"favorites-list\");\r\n\r\n  // creating a function that updates the list of known favorites in local storage\r\n  function getFavorites() {\r\n    return JSON.parse(localStorage.getItem(\"favorites\")) || []; //added a code\r\n    //legt einen benannten Eintrag an oder ersetzt\r\n  }\r\n\r\n  // Create a movie card\r\n  function createMovieCard(movie) {\r\n    const card = document.createElement(\"div\");\r\n    card.classList.add(\r\n      \"bg-gray-800\",\r\n      \"rounded-lg\",\r\n      \"shadow-lg\",\r\n      \"overflow-hidden\",\r\n      \"relative\",\r\n      \"flex\",\r\n      \"flex-col\",\r\n      \"h-full\",\r\n      \"m-[20px]\",\r\n      \"mb-[20px]\"\r\n    );\r\n    card.setAttribute(\"data-movie-id\", movie.id);\r\n\r\n    const movieImage = document.createElement(\"img\");\r\n    movieImage.src = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;\r\n    movieImage.alt = movie.title;\r\n    movieImage.classList.add(\"w-full\", \"h-64\", \"object-cover\");\r\n    card.appendChild(movieImage);\r\n\r\n    const movieInfo = document.createElement(\"div\");\r\n    movieInfo.classList.add(\"p-4\", \"flex\", \"flex-col\", \"flex-grow\");\r\n\r\n    const movieTitle = document.createElement(\"h3\");\r\n    movieTitle.textContent = movie.title;\r\n    movieTitle.classList.add(\"text-lg\", \"font-semibold\", \"mb-2\", \"text-white\");\r\n    movieInfo.appendChild(movieTitle);\r\n\r\n    const movieRating = document.createElement(\"p\");\r\n    movieRating.textContent = `Rating: ${movie.vote_average}`;\r\n    movieRating.classList.add(\"text-gray-400\", \"mb-2\");\r\n    movieInfo.appendChild(movieRating);\r\n\r\n    // Add favorite button with heart icon\r\n    const favBtn = document.createElement(\"button\");\r\n    favBtn.classList.add(\r\n      \"absolute\",\r\n      \"top-2\",\r\n      \"right-2\",\r\n      \"text-gray-400\",\r\n      \"hover:text-red-500\",\r\n      \"transition\"\r\n    );\r\n    favBtn.innerHTML = `<i class=\"fas fa-heart\"></i>`;\r\n    if (isFavorite(movie.id)) {\r\n      favBtn.classList.add(\"text-red-500\");\r\n    }\r\n\r\n    favBtn.addEventListener(\"click\", () => {\r\n      toggleFavorite(movie, favBtn);\r\n    });\r\n\r\n    card.appendChild(favBtn);\r\n\r\n    // Add note button\r\n    const noteBtn = document.createElement(\"button\");\r\n    noteBtn.classList.add(\r\n      \"mt-auto\",\r\n      \"bg-teal-500\",\r\n      \"text-white\",\r\n      \"px-4\",\r\n      \"py-2\",\r\n      \"rounded-md\",\r\n      \"transition\",\r\n      \"self-start\"\r\n    );\r\n    const note = getNoteForMovie(movie.id);\r\n    noteBtn.textContent = note ? \"View Note\" : \"Create Note\";\r\n    noteBtn.addEventListener(\"click\", () => {\r\n      createNotePopup(movie.id, noteBtn);\r\n    });\r\n\r\n    movieInfo.appendChild(noteBtn);\r\n    card.appendChild(movieInfo);\r\n\r\n    favoritesList.appendChild(card);\r\n  }\r\n  //note button color changes\r\n\r\n  const CREATE_NOTE_COLOR = \"bg-teal-500\";\r\n  const VIEW_NOTE_COLOR = \"bg-blue-500\";\r\n\r\n  // Check if a movie is in favorites\r\n  function isFavorite(movieId) {\r\n    const favorites = getFavorites();\r\n    return favorites.some((fav) => fav.id === movieId);\r\n  }\r\n\r\n  // Toggle favorite status\r\n  function toggleFavorite(movie, favBtn) {\r\n    let favorites = getFavorites();\r\n\r\n    if (isFavorite(movie.id)) {\r\n      // Remove from favorites\r\n      favorites = favorites.filter((fav) => fav.id !== movie.id);\r\n      favBtn.classList.remove(\"text-red-500\"); // Update the heart color\r\n      removeMovieCard(movie.id);\r\n    } else {\r\n      // Add to favorites\r\n      favorites.push(movie);\r\n      favBtn.classList.add(\"text-red-500\"); // Update the heart color\r\n    }\r\n\r\n    // Update localStorage immediately\r\n    localStorage.setItem(\"favorites\", JSON.stringify(favorites));\r\n  }\r\n\r\n  // Get note for a movie\r\n  function getNoteForMovie(movieId) {\r\n    const notes = JSON.parse(localStorage.getItem(\"movieNotes\")) || {};\r\n    return notes[movieId];\r\n  }\r\n\r\n  // Create a note popup\r\n  function createNotePopup(movieId, noteBtn) {\r\n    const existingNote = getNoteForMovie(movieId);\r\n\r\n    const notePopup = document.createElement(\"div\");\r\n    notePopup.classList.add(\r\n      \"fixed\",\r\n      \"top-0\",\r\n      \"left-0\",\r\n      \"w-full\",\r\n      \"h-full\",\r\n      \"bg-gray-800\",\r\n      \"bg-opacity-50\",\r\n      \"flex\",\r\n      \"justify-center\",\r\n      \"items-center\"\r\n    );\r\n    notePopup.innerHTML = `\r\n          <div class=\"bg-gray-900 p-6 rounded-lg w-96\">\r\n              <h3 class=\"text-white text-xl font-semibold mb-4\">Movie Note</h3>\r\n              <textarea id=\"note-text\" class=\"w-full h-32 p-2 bg-gray-700 text-white rounded-lg\" placeholder=\"Write a note...\">${\r\n                existingNote || \"\"\r\n              }</textarea>\r\n              <button id=\"save-note\" class=\"mt-4 bg-teal-500 text-white px-4 py-2 rounded-md\">Save Note</button>\r\n              <button id=\"close-popup\" class=\"mt-2 bg-red-500 text-white px-4 py-2 rounded-md\">Close</button>\r\n          </div>\r\n      `;\r\n\r\n    document.body.appendChild(notePopup);\r\n\r\n    document.getElementById(\"save-note\").addEventListener(\"click\", () => {\r\n      const noteText = document.getElementById(\"note-text\").value;\r\n      saveNoteForMovie(movieId, noteText);\r\n\r\n      // Update the note button immediately based on the note\r\n      noteBtn.textContent = noteText.trim() ? \"View Note\" : \"Create Note\";\r\n\r\n      // Close the note popup\r\n      document.body.removeChild(notePopup);\r\n    });\r\n\r\n    document.getElementById(\"close-popup\").addEventListener(\"click\", () => {\r\n      document.body.removeChild(notePopup);\r\n    });\r\n  }\r\n\r\n  // Save a note for a movie\r\n  function saveNoteForMovie(movieId, noteText) {\r\n    let notes = JSON.parse(localStorage.getItem(\"movieNotes\")) || {};\r\n    if (noteText.trim() === \"\") {\r\n      delete notes[movieId]; // Remove the note if it's empty\r\n    } else {\r\n      notes[movieId] = noteText.trim();\r\n    }\r\n    localStorage.setItem(\"movieNotes\", JSON.stringify(notes));\r\n  }\r\n\r\n  // Load favorites from localStorage\r\n  const favorites = getFavorites(); // Aufrufen einer Funktion\r\n  favorites.forEach((movie) => createMovieCard(movie));\r\n});\r\n\r\n//remove movie from the favorites\r\nfunction removeMovieCard(movieId) {\r\n  const card = document.querySelector(`[data-movie-id=\"${movieId}\"]`);\r\n  if (card) {\r\n    card.remove();\r\n  }\r\n}\r\n"],"names":[],"version":3,"file":"journal.dcc4f2ae.js.map","sourceRoot":"/__parcel_source_root/"}